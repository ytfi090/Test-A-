<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vocab Match: Drag & Drop</title>
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #3498db;
            --success: #27ae60;
            --bg: #f4f7f6;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: var(--bg);
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        nav {
            width: 100%;
            background: white;
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            box-sizing: border-box;
        }

        .home-btn {
            text-decoration: none;
            color: var(--primary);
            font-weight: bold;
            border: 2px solid var(--primary);
            padding: 8px 15px;
            border-radius: 5px;
        }

        h1 { margin-top: 30px; color: var(--primary); }

        .match-container {
            display: flex;
            gap: 50px;
            margin-top: 20px;
            max-width: 800px;
            width: 95%;
            padding-bottom: 50px;
        }

        .column {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .word-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            font-weight: bold;
            text-align: center;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .drop-zone {
            background: #dfe6e9;
            height: 50px;
            border-radius: 8px;
            border: 2px dashed #b2bec3;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: 0.3s;
            font-size: 0.9rem;
            color: #636e72;
        }

        .draggable {
            background: var(--accent);
            color: white;
            padding: 18px;
            border-radius: 10px;
            cursor: grab;
            text-align: center;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            user-select: none;
            transition: transform 0.2s;
        }

        .draggable:active { cursor: grabbing; transform: scale(1.05); }

        .correct { background: var(--success) !important; border-color: var(--success); color: white; border-style: solid; font-weight: bold; }
        
        #message {
            margin-top: 10px;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--success);
            height: 40px;
        }
    </style>
</head>
<body>

<nav>
    <a href="index.html" class="home-btn">üè† Home</a>
    <div id="rangeDisplay" style="font-weight: bold; color: var(--accent);">Range: --</div>
    <div id="timerDisplay" style="font-weight: bold; font-family: monospace;">Time left: --:--</div>
</nav>

<h1>Match the Pairs</h1>
<p>Drag the <strong>Synonyms</strong> to the matching <strong>Words</strong></p>

<div class="match-container" id="gameBoard">
    <div class="column" id="wordCol"></div>
    <div class="column" id="synCol"></div>
</div>

<div id="message"></div>

<script>
    const fullWordBank = [
        {w:"Abundant",s:"plentiful"},{w:"Adjacent",s:"nearby"},{w:"Administer",s:"manage"},{w:"Agile",s:"nimble"},{w:"Alleviate",s:"ease"},
        {w:"Ambulatory",s:"walking"},{w:"Animosity",s:"hostility"},{w:"Arbitrary",s:"random"},{w:"Archaic",s:"ancient"},{w:"Ardent",s:"passionate"},
        {w:"Ascend",s:"rise"},{w:"Assail",s:"attack"},{w:"Astute",s:"shrewd"},{w:"Aversion",s:"dislike"},{w:"Badger",s:"pester"},
        {w:"Buff",s:"polish"},{w:"Cavalier",s:"careless"},{w:"Clairvoyance",s:"foresight"},{w:"Clemency",s:"mercy"},{w:"Contemporary",s:"modern"},
        {w:"Cope",s:"handle"},{w:"Debris",s:"rubble"},{w:"Delirious",s:"confused"},{w:"Dexterity",s:"skill"},{w:"Diatribe",s:"rant"},
        {w:"Didactic",s:"instructive"},{w:"Dimension",s:"aspect"},{w:"Disdain",s:"contempt"},{w:"Disencumber",s:"free"},{w:"Distraught",s:"distressed"},
        {w:"Ebb",s:"decline"},{w:"Elusive",s:"evasive"},{w:"Embellish",s:"decorate"},{w:"Energetic",s:"lively"},{w:"Epic",s:"grand"},
        {w:"Ergonomic",s:"comfortable"},{w:"Euphemism",s:"substitute"},{w:"Evident",s:"obvious"},{w:"Exhibit",s:"display"},{w:"Extol",s:"praise"},
        {w:"Fanfare",s:"celebration"},{w:"Forlorn",s:"lonely"},{w:"Forte",s:"strength"},{w:"Founder",s:"establish"},{w:"Fundamental",s:"basic"},
        {w:"Gruff",s:"rough"},{w:"Gullible",s:"naive"},{w:"Haphazard",s:"random"},{w:"Horrific",s:"terrifying"},{w:"Hypothesis",s:"theory"},
        {w:"Illuminate",s:"clarify"},{w:"Immerse",s:"submerge"},{w:"Imperturbable",s:"calm"},{w:"Improvise",s:"adapt"},{w:"Incomprehensible",s:"baffling"},
        {w:"Inhibit",s:"restrain"},{w:"Instantaneous",s:"immediate"},{w:"Interminable",s:"endless"},{w:"Legacy",s:"inheritance"},{w:"Maim",s:"injure"},
        {w:"Malicious",s:"spiteful"},{w:"Malignant",s:"harmful"},{w:"Mandatory",s:"required"},{w:"Mar",s:"damage"},{w:"Marginal",s:"minor"},
        {w:"Meander",s:"wander"},{w:"Menagerie",s:"collection"},{w:"Morbid",s:"grim"},{w:"Morose",s:"sullen"},{w:"Murky",s:"dark"},
        {w:"Nonchalant",s:"casual"},{w:"Nostalgia",s:"longing"},{w:"Obliterate",s:"destroy"},{w:"Opaque",s:"cloudy"},{w:"Opulent",s:"luxurious"},
        {w:"Ornate",s:"elaborate"},{w:"Painstaking",s:"thorough"},{w:"Peerless",s:"unmatched"},{w:"Perceptive",s:"insightful"},{w:"Precipitation",s:"rainfall"},
        {w:"Prodigal",s:"wasteful"},{w:"Prudent",s:"wise"},{w:"Rejuvenate",s:"revive"},{w:"Replenish",s:"refill"},{w:"Repudiate",s:"reject"},
        {w:"Respective",s:"corresponding"},{w:"Ruse",s:"trick"},{w:"Sanctuary",s:"refuge"},{w:"Savory",s:"tasty"},{w:"Scoff",s:"mock"},
        {w:"Solicitude",s:"care"},{w:"Specter",s:"ghost"},{w:"Squabble",s:"quarrel"},{w:"Torrid",s:"scorching"},{w:"Tranquil",s:"peaceful"},
        {w:"Valiant",s:"brave"},{w:"Vanguard",s:"forefront"},{w:"Venomous",s:"poisonous"},{w:"Vulnerable",s:"defenceless"},{w:"Wince",s:"flinch"}
    ];

    let matchesToMake = 5; 
    let currentPairs = [];

    function initGame() {
        const start = parseInt(localStorage.getItem('startWord')) || 1;
        const end = parseInt(localStorage.getItem('endWord')) || 100;
        document.getElementById('rangeDisplay').innerText = `Range: ${start}-${end}`;

        const pool = fullWordBank.slice(start - 1, end);
        
        // Pick random words from the selected range
        currentPairs = pool.sort(() => 0.5 - Math.random()).slice(0, matchesToMake);
        
        renderBoard();
    }

    function renderBoard() {
        const wordCol = document.getElementById('wordCol');
        const synCol = document.getElementById('synCol');
        wordCol.innerHTML = '';
        synCol.innerHTML = '';
        
        const shuffledSyns = [...currentPairs].sort(() => 0.5 - Math.random());

        currentPairs.forEach((pair, index) => {
            const row = document.createElement('div');
            row.className = 'word-item';
            row.innerHTML = `<span>${pair.w}</span> <div class="drop-zone" data-word="${pair.w}" id="drop-${index}">Drop Synonym Here</div>`;
            wordCol.appendChild(row);
        });

        shuffledSyns.forEach(pair => {
            const dragItem = document.createElement('div');
            dragItem.className = 'draggable';
            dragItem.draggable = true;
            dragItem.innerText = pair.s;
            dragItem.id = `drag-${pair.w.replace(/\s/g, '')}`;
            
            dragItem.addEventListener('dragstart', (e) => {
                e.dataTransfer.setData('text', e.target.id);
            });
            
            synCol.appendChild(dragItem);
        });

        setupDropZones();
    }

    function setupDropZones() {
        const zones = document.querySelectorAll('.drop-zone');
        zones.forEach(zone => {
            zone.addEventListener('dragover', (e) => e.preventDefault());
            zone.addEventListener('drop', (e) => {
                e.preventDefault();
                const dragId = e.dataTransfer.getData('text');
                const draggedElement = document.getElementById(dragId);
                const targetWord = zone.getAttribute('data-word');
                const draggedWordKey = dragId.replace('drag-', '');

                if (targetWord.replace(/\s/g, '') === draggedWordKey) {
                    zone.innerHTML = draggedElement.innerText;
                    zone.className = "drop-zone correct";
                    draggedElement.style.visibility = "hidden";
                    checkWin();
                } else {
                    zone.style.borderColor = "red";
                    zone.innerText = "‚ùå Try Again";
                    setTimeout(() => {
                        zone.style.borderColor = "#b2bec3";
                        zone.innerText = "Drop Synonym Here";
                    }, 800);
                }
            });
        });
    }

    function checkWin() {
        const corrects = document.querySelectorAll('.correct');
        if (corrects.length === matchesToMake) {
            document.getElementById('message').innerText = "üéâ Excellent! Loading new words...";
            setTimeout(() => {
                document.getElementById('message').innerText = "";
                initGame(); 
            }, 2000);
        }
    }

    initGame();
</script>
</body>
</html>
