<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vocab Master: Dual Recall</title>
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #3498db;
            --success: #27ae60;
            --danger: #e74c3c;
            --bg: #f4f7f6;
        }

        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); margin: 0; text-align: center; overflow-x: hidden; }

        /* Shake Animation */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            50% { transform: translateX(10px); }
            75% { transform: translateX(-10px); }
            100% { transform: translateX(0); }
        }
        .shake-screen { animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both; }

        .nav-header {
            background: white; padding: 15px 30px; display: flex; 
            justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .home-btn {
            text-decoration: none; color: var(--primary); font-weight: bold;
            border: 2px solid var(--primary); padding: 8px 15px; border-radius: 8px;
        }

        .mode-indicator {
            font-size: 1.8rem; font-weight: 800; text-transform: uppercase;
            letter-spacing: 2px; margin: 20px 0; color: var(--accent);
        }

        .arena {
            max-width: 600px; margin: 20px auto; background: white;
            padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .prompt-text { font-size: 1.5rem; color: #444; margin-bottom: 25px; font-weight: 500; }
        
        #spellInput {
            width: 90%; padding: 15px; font-size: 1.3rem; border: 2px solid #eee;
            border-radius: 12px; margin-bottom: 20px; outline: none; text-align: center;
        }

        .btn-group { display: flex; gap: 10px; justify-content: center; }
        button.action-btn { padding: 12px 25px; border-radius: 10px; border: none; font-weight: bold; cursor: pointer; }
        .submit { background: var(--success); color: white; }
        .skip { background: #95a5a6; color: white; }

        .range-picker { background: #fff; padding: 15px; display: flex; justify-content: center; gap: 10px; border-bottom: 1px solid #eee; }
        input[type="number"] { width: 50px; }
    </style>
</head>
<body id="mainBody">

<div class="nav-header">
    <a href="index.html" class="home-btn">üè† Home</a>
    <div id="scoreDisplay">Mastered: 0</div>
</div>

<div class="range-picker">
    <strong>Range:</strong>
    <input type="number" id="startRange" value="1"> to <input type="number" id="endRange" value="25">
    <button onclick="setRange()">Update</button>
</div>

<div id="modeHeader" class="mode-indicator">WORD</div>

<div class="arena">
    <div id="promptDisplay" class="prompt-text">Loading...</div>
    
    <input type="text" id="spellInput" placeholder="Type answer here..." autocomplete="off">
    
    <div class="btn-group">
        <button class="action-btn submit" onclick="checkAnswer()">Submit</button>
        <button class="action-btn skip" onclick="revealAnswer()">Skip</button>
    </div>

    <div id="feedback" style="margin-top:20px; font-weight:bold;"></div>
    <div id="attempts" style="margin-top:10px; font-size:0.9rem; color:#666;">Tries left: 3</div>
</div>

<script>
    const masterList = [
        { w: "Abundant", s: "plentiful" },
        { w: "Adjacent", s: "nearby" },
        { w: "Administer", s: "manage" },
        { w: "Agile", s: "nimble" },
        { w: "Alleviate", s: "ease" },
        { w: "Ambulatory", s: "walking" },
        { w: "Animosity", s: "hostility" },
        { w: "Arbitrary", s: "random" },
        { w: "Archaic", s: "ancient" },
        { w: "Ardent", s: "passionate" },
        { w: "Ascend", s: "rise" },
        { w: "Assail", s: "attack" },
        { w: "Astute", s: "shrewd" },
        { w: "Aversion", s: "dislike" },
        { w: "Badger", s: "pester" },
        { w: "Buff", s: "polish" },
        { w: "Cavalier", s: "careless" },
        { w: "Clairvoyance", s: "foresight" },
        { w: "Clemency", s: "mercy" },
        { w: "Contemporary", s: "modern" },
        { w: "Cope", s: "manage" },
        { w: "Debris", s: "rubble" },
        { w: "Delirious", s: "confused" },
        { w: "Dexterity", s: "skill" },
        { w: "Diatribe", s: "rant" },
        { w: "Didactic", s: "instructive" },
        { w: "Dimension", s: "aspect" },
        { w: "Disdain", s: "contempt" },
        { w: "Disencumber", s: "free" },
        { w: "Distraught", s: "upset" },
        { w: "Ebb", s: "decline" },
        { w: "Elusive", s: "evasive" },
        { w: "Embellish", s: "decorate" },
        { w: "Energetic", s: "lively" },
        { w: "Epic", s: "grand" },
        { w: "Ergonomic", s: "comfortable" },
        { w: "Euphemism", s: "substitute" },
        { w: "Evident", s: "obvious" },
        { w: "Exhibit", s: "display" },
        { w: "Extol", s: "praise" },
        { w: "Fanfare", s: "celebration" },
        { w: "Forlorn", s: "lonely" },
        { w: "Forte", s: "strength" },
        { w: "Founder", s: "establish" },
        { w: "Fundamental", s: "basic" },
        { w: "Gruff", s: "rough" },
        { w: "Gullible", s: "naive" },
        { w: "Haphazard", s: "random" },
        { w: "Horrific", s: "terrifying" },
        { w: "Hypothesis", s: "theory" },
        { w: "Illuminate", s: "clarify" },
        { w: "Immerse", s: "submerge" },
        { w: "Imperturbable", s: "calm" },
        { w: "Improvise", s: "adapt" },
        { w: "Incomprehensible", s: "baffling" },
        { w: "Inhibit", s: "restrain" },
        { w: "Instantaneous", s: "immediate" },
        { w: "Interminable", s: "endless" },
        { w: "Legacy", s: "inheritance" },
        { w: "Maim", s: "injure" },
        { w: "Malicious", s: "spiteful" },
        { w: "Malignant", s: "harmful" },
        { w: "Mandatory", s: "required" },
        { w: "Mar", s: "damage" },
        { w: "Marginal", s: "minor" },
        { w: "Meander", s: "wander" },
        { w: "Menagerie", s: "collection" },
        { w: "Morbid", s: "grim" },
        { w: "Morose", s: "sullen" },
        { w: "Murky", d: "dark" },
        { w: "Nonchalant", s: "casual" },
        { w: "Nostalgia", s: "longing" },
        { w: "Obliterate", s: "destroy" },
        { w: "Opaque", s: "cloudy" },
        { w: "Opulent", s: "luxurious" },
        { w: "Ornate", s: "elaborate" },
        { w: "Painstaking", s: "careful" },
        { w: "Peerless", s: "unmatched" },
        { w: "Perceptive", s: "insightful" },
        { w: "Precipitation", s: "rainfall" },
        { w: "Prodigal", s: "wasteful" },
        { w: "Prudent", s: "wise" },
        { w: "Rejuvenate", s: "revive" },
        { w: "Replenish", s: "refill" },
        { w: "Repudiate", s: "reject" },
        { w: "Respective", s: "individual" },
        { w: "Ruse", s: "ploy" },
        { w: "Sanctuary", s: "refuge" },
        { w: "Savory", s: "tasty" },
        { w: "Scoff", s: "mock" },
        { w: "Solicitude", s: "care" },
        { w: "Specter", s: "ghost" },
        { w: "Squabble", s: "quarrel" },
        { w: "Torrid", s: "scorching" },
        { w: "Tranquil", s: "peaceful" },
        { w: "Valiant", s: "brave" },
        { w: "Vanguard", s: "forefront" },
        { w: "Venomous", s: "poisonous" },
        { w: "Vulnerable", s: "exposed" },
        { w: "Wince", s: "flinch" }
    ];

    let pool = [];
    let current = {};
    let isAskingWord = true; // Toggle state
    let tries = 3;
    let score = 0;

    function setRange() {
        const s = parseInt(document.getElementById('startRange').value)-1;
        const e = parseInt(document.getElementById('endRange').value);
        pool = masterList.slice(s, e);
        next();
    }

    function next() {
        tries = 3;
        isAskingWord = Math.random() > 0.5;
        current = pool[Math.floor(Math.random() * pool.length)];
        
        document.getElementById('modeHeader').innerText = isAskingWord ? "WORD" : "SYNONYM";
        document.getElementById('modeHeader').style.color = isAskingWord ? "#3498db" : "#9b59b6";
        
        // If asking for Word, show Synonym. If asking for Synonym, show Word.
        document.getElementById('promptDisplay').innerText = isAskingWord ? `Synonym: "${current.s}"` : `Word: "${current.w}"`;
        
        document.getElementById('spellInput').value = '';
        document.getElementById('feedback').innerText = '';
        document.getElementById('attempts').innerText = `Tries left: ${tries}`;
        document.getElementById('spellInput').focus();
    }

    function checkAnswer() {
        const guess = document.getElementById('spellInput').value.trim().toLowerCase();
        const target = isAskingWord ? current.w.toLowerCase() : current.s.toLowerCase();

        if (guess === target) {
            document.getElementById('feedback').innerText = "‚úÖ Correct!";
            document.getElementById('feedback').style.color = "var(--success)";
            score++;
            document.getElementById('scoreDisplay').innerText = `Mastered: ${score}`;
            setTimeout(next, 1000);
        } else {
            triggerShake();
            tries--;
            if (tries > 0) {
                document.getElementById('feedback').innerText = "‚ùå Wrong! Try again.";
                document.getElementById('feedback').style.color = "var(--danger)";
                document.getElementById('attempts').innerText = `Tries left: ${tries}`;
            } else {
                revealAnswer();
            }
        }
    }

    function triggerShake() {
        const body = document.getElementById('mainBody');
        body.classList.add('shake-screen');
        setTimeout(() => body.classList.remove('shake-screen'), 500);
    }

    function revealAnswer() {
        const ans = isAskingWord ? current.w : current.s;
        document.getElementById('feedback').innerHTML = `The answer was: <strong>${ans}</strong>`;
        document.getElementById('feedback').style.color = "var(--primary)";
        setTimeout(next, 2500);
    }

    document.getElementById('spellInput').addEventListener('keyup', (e) => { if(e.key==='Enter') checkAnswer(); });
    setRange();
</script>

</body>
</html>
